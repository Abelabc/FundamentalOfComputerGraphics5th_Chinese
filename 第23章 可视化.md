*边学边翻译，督促自己不能落下，同时也留点记忆*

# <center>**第二十三章 可视化**</center> 

&nbsp;&nbsp;&nbsp;&nbsp;计算机图形学的一个主要应用领域是可视化，计算机生成的图像用于帮助人们理解空间和非空间数据。当目标是增强人类的能力时，就会使用可视化，因为在这种情况下，问题的定义不够好，计算机无法用算法处理。如果一个完全自动化的解决方案可以完全取代人类的判断，那么通常不需要可视化。在探索完全不熟悉的数据集时，可视化可以用来生成新的假设，在部分理解的数据集中确认现有的假设，或者向其他观众展示已知数据集的信息。
&nbsp;&nbsp;&nbsp;&nbsp;可视化可以让人们将认知转移到感知系统，使用精心设计的图像作为外部记忆的形式。人类的视觉系统是通向大脑的一个非常高带宽的通道，大量的处理并行地发生在前意识水平上。因此，我们可以使用外部图像来代替跟踪我们头脑里的事情。举个例子，让我们考虑一下如何理解《Gödel，埃舍尔，巴赫:永恒的金色辫子》(霍夫施塔特，1979)中一个主题子集之间的关系;见图23.1。
&nbsp;&nbsp;&nbsp;&nbsp;当我们将数据集视为文本列表时，在较低的级别上，我们必须阅读单词并将它们与之前阅读过的单词的记忆进行比较。仅靠认知和记忆就很难跟踪这十几个主题，更不用说整本书的数百个主题了。识别邻域的更高层次问题，例如找到所有偏离目标主题悖论的两个跃点的主题，是非常困难的。
&nbsp;&nbsp;&nbsp;&nbsp;图23.2显示了作为节点-链接图的同一数据集的外部可视化表示，其中每个主题都是一个节点，两个主题之间的链接用直线直接显示。通过在图像周围移动我们的眼睛来跟踪线条是一种快速的低层次操作，具有最小的认知负荷，因此更高层次的邻域查找成为可能。节点的位置和它们之间链接的路由由点图自动创建  地理= =根据美国人口普查，该镇的土地面积为。
&nbsp;&nbsp;&nbsp;&nbsp;我们把数据集属性到可视化表示的映射称为可视化编码。可视化的核心问题之一是从大量可能的视觉表示中选择适当的编码，要考虑到人类感知系统的特征、相关数据集和手头任务。
***
### 23.1 背景
#### 23.1.1 历史
&nbsp;&nbsp;&nbsp;&nbsp;人们通过静态图像传达意义的历史很长，可以追溯到三万多年前已知的最古老的洞穴画。今天，我们继续通过各种方式进行视觉交流，从餐巾背面的粗略草图到广告的精美平面设计。几千年来，制图师们一直在研究如何绘制代表我们周围世界某些方面的地图。抽象的非空间数据集的第一个可视化表示是在18世纪由William Playfair(Friendly，
2008).
&nbsp;&nbsp;&nbsp;&nbsp;虽然我们已经有能力创建移动图像超过150年，但创建交互式动态图像是最近的发展，只有在过去几十年快速计算机图形硬件和算法的广泛使用才有可能。小型数据集的静态可视化可以手工创建，但计算机图形学支持大型数据集的交互式可视化。
#### 23.1.2 资源限制
&nbsp;&nbsp;&nbsp;&nbsp;在设计可视化系统时，必须考虑三种不同的限制:计算能力、人的感知和认知能力以及显示能力。
&nbsp;&nbsp;&nbsp;&nbsp;与计算机图形的任何应用一样，计算机时间和内存都是有限的资源，我们经常受到硬约束。如果可视化系统需要提供交互式响应，那么它必须使用可以在几分之一秒而不是几分钟或几小时内运行的算法。
&nbsp;&nbsp;&nbsp;&nbsp;在人类方面，记忆和注意力必须被视为有限的资源。众所周知，人类的记忆力是有限的，无论是长期记忆还是短期工作记忆。在第23.4节中，我们讨论了对视野进行大规模并行处理的低级视觉注意机制的一些功能和局限性。我们在内部的视觉工作记忆中存储的信息少得惊人，这使我们很容易受到变化盲目性的影响。这种现象是，如果我们关注的是我们视野中的其他事物，即使非常大的变化也不会被注意到(Simons, 2000)。此外，警惕也是一种高度有限的资源;我们执行视觉搜索任务的能力迅速下降，几个小时后的结果比最初几分钟的结果差得多(Ware, 2000)。
&nbsp;&nbsp;&nbsp;&nbsp;显示容量是第三种需要考虑的限制。可视化设计人员经常“耗尽像素”，即屏幕的分辨率不足以同时显示所有所需的信息。特定帧的信息密度是对编码信息量与未使用空间量的度量。一次展示尽可能多的好处(最小化导航和探索的需要)和一次展示太多的成本(用户会被视觉混乱所淹没)之间存在权衡。
***
#### 23.2数据类型
&nbsp;&nbsp;&nbsp;&nbsp;可视化设计的许多方面都是由我们需要查看的数据类型所驱动的。例如，它是一个数字表，还是一组项目之间的关系，还是固有的空间数据(如地球表面的位置或文档集合)?
&nbsp;&nbsp;&nbsp;&nbsp;我们首先考虑一个数据表。我们称行为数据项，列为维度，也称为属性。例如，行可以表示人，列可以表示姓名、年龄、身高、衬衫尺码和最喜欢的水果。
&nbsp;&nbsp;&nbsp;&nbsp;我们区分三种类型的维度:定量的、有序的和绝对的。定量数据，如年龄或身高，是数值的，我们可以在上面做算术。例如，68英寸减去42英寸等于26英寸。对于有序的数据，例如衬衫尺寸，我们无法进行完整的算术，但有一个定义良好的顺序。例如，大减去中不是一个有意义的概念，但我们知道中介于小和大之间。类别数据，例如最喜欢的水果或名字，没有隐含的顺序。我们只能区分两个东西是相同的(苹果)还是不同的(苹果和香蕉)。
&nbsp;&nbsp;&nbsp;&nbsp;关系数据或图是节点由链接连接的另一种数据类型。一种特殊的图是树，它通常用于分层数据。节点和边都可以具有相关的属性。不幸的是，图形这个词在可视化方面超负荷了。我们在这里讨论的节点-链接图，遵循图绘制和图论的术语，也可以称为网络。在统计图形学领域，graph常用于图表，如图23.10所示的时间序列数据的折线图。
&nbsp;&nbsp;&nbsp;&nbsp;有些数据本身就是空间的，例如地理位置或三维空间的测量范围，就像医生用来观察人体内部结构的MRI或CT扫描一样。信息如下与空间中的每一点相关的可能是一组无序的标量，或索引向量，或张量。相比之下，非空间数据可以使用空间位置进行可视化编码，但编码由设计人员选择，而不是在数据集本身的语义中隐式给出。这一选择是可视化设计中最核心和最困难的问题之一。
#### 23.2.1尺寸和件数
&nbsp;&nbsp;&nbsp;&nbsp;需要可视化编码的数据维度的数量是可视化设计问题最基本的方面之一。适用于只有几列的低维数据集的技术通常会在具有几十或数百列的高维数据集上失败。数据维度可能具有层次结构，例如时间序列数据集。多个时间尺度的有趣模式。
&nbsp;&nbsp;&nbsp;&nbsp;数据项的数量也很重要:对于几百项表现良好的可视化通常无法扩展到数百万项。在某些情况下，困难是纯粹的算法，计算会花费太长时间;在另一些情况下，这是一个甚至瞬时算法都无法解决的更深层次的感知问题，即视觉混乱使人无法使用表示。维度内可能值的范围也可能是相关的。
#### 23.2.2数据转换和派生维度
&nbsp;&nbsp;&nbsp;&nbsp;数据通常从一种类型转换为另一种类型，作为解决领域问题的可视化管道的一部分。例如，原始数据维可能由定量数据组成:表示温度的浮点数。对于一些任务，比如发现当地天气模式的异常，原始数据可以直接使用。对于另一项任务，如确定水的温度是否适合淋浴，数据可能会转换为一个有序的维度:热、暖或冷。在这种转换中，大部分细节都被聚合掉了。在第三个例子中，当制作吐司时，向类别维度进行更有损耗的转换可能就足够了:烧焦或未烧焦。
&nbsp;&nbsp;&nbsp;&nbsp;将数据转换为派生维度的原则，而不是简单地以原始形式对数据进行可视化编码，这是一个强大的思想。在图23.10中，原始数据是时序曲线的有序集合。这种转换是将数据聚类，减少可视化编码为几条极有意义曲线的信息量。
*** 
### 23.3 以人为本的设计过程
&nbsp;&nbsp;&nbsp;&nbsp;可视化设计过程可以划分为层叠的一组层，如图23.3所示。这些层都是相互依赖的;上一级的输出输入到下一级。
#### 23.3.1任务描述
&nbsp;&nbsp;&nbsp;&nbsp;给定的数据集有许多可能的可视化编码。选择使用哪种视觉编码可以根据某些预期用户的特定需求进行指导。不同的问题或任务需要非常不同的视觉编码。例如，考虑软件工程领域。图23.11所示的Tarantula接口很好地支持理解测试套件的覆盖率的任务。然而，在重构代码的同时理解软件的模块化分解的任务可能通过更直接地将其层次结构显示为节点-链接图来更好地完成。了解一些目标受众的需求是一个棘手的问题。
&nbsp;&nbsp;&nbsp;&nbsp;在以人为中心的设计方法中，可视化设计师随着时间的推移与一组目标用户一起工作(C. Lewis & Rieman, 1993)。在大多数情况下，用户知道他们需要以某种方式查看他们的数据，但不能直接将他们的需求表述为数据类型操作方面的明确任务。迭代设计过程包括从目标用户那里收集关于他们的问题的信息，通过采访和对他们工作的观察，创建原型，并观察用户如何与这些原型交互，以查看所提议的解决方案实际工作的效果如何。需求分析的软件工程方法论也很有用(Kovitz, 1999)。
#### 23.3.2 抽象
&nbsp;&nbsp;&nbsp;&nbsp;在第一层中确定了特定的领域问题之后，下一层需要将其抽象为更通用的表示形式，作为对的操作前一节中讨论的数据类型。来自非常不同领域的问题可以映射到相同的可视化抽象。这些通用操作包括排序、过滤、趋势和分布特征、发现异常和异常值以及发现相关性(Amar, Eagan， & Stasko, 2005)。它们还包括特定于特定数据类型的操作，例如遵循图或树形式的关系数据路径。
&nbsp;&nbsp;&nbsp;&nbsp;这个抽象步骤通常涉及从原始原始数据到派生维度的数据转换。这些派生维度通常与原始数据具有不同的类型:可以将图转换为树，使用阈值根据字段值决定是否应该存在链接，从而将表格数据转换为图，等等。
#### 23.3.3 技术与算法设计
&nbsp;&nbsp;&nbsp;&nbsp;一旦选择了抽象，下一层就是设计适当的可视化编码和交互技术。第23.4节涵盖了视觉编码的原则，我们将在第23.5节讨论交互原则。我们将在第23.6和23.7节中介绍考虑到这些原则的技术。
&nbsp;&nbsp;&nbsp;&nbsp;遗憾的是，关于可视化算法的详细讨论超出了本章的范围。
#### 23.3.4 验证
&nbsp;&nbsp;&nbsp;&nbsp;这四层中的每一层都有不同的验证要求。
&nbsp;&nbsp;&nbsp;&nbsp;第一层的设计是为了确定问题是否被正确地描述:是否真的有一个目标受众执行特定的任务，并从所提议的工具中受益?测试假设和猜想的一种直接方法是观察或采访目标受众的成员，以确保可视化设计人员完全理解他们的任务。在工具被构建和部署之前不能进行的度量是在社区中监视它的采用率，当然除了效用之外还有许多其他因素影响采用率。
&nbsp;&nbsp;&nbsp;&nbsp;下一层用于确定从域问题到特定数据类型操作的抽象是否实际解决了所需的问题。在一个原型或成品工具被部署后，可以进行实地研究，以观察它的目标用户是否以及如何使用它。此外，该系统产生的图像可以进行定性和定量分析。
&nbsp;&nbsp;&nbsp;&nbsp;第三层的目的是验证设计者所选择的视觉编码和交互技术能否有效地传达所选择的对象对用户的抽象。一个直接的测试是证明个人的设计选择没有违反已知的感知和认知原则。这样的论证是必要的，但不是充分的，因为可视化设计涉及交互选择之间的许多权衡。在建立一个系统之后，可以通过正式的实验室研究对其进行测试，其中要求许多人完成分配的任务，以便对他们完成任务所需的时间和他们的错误率进行统计分析。
&nbsp;&nbsp;&nbsp;&nbsp;第四层用于验证设计用于执行编码和交互选择的算法比以前的算法更快或占用更少的内存。一个直接的测试是分析所提出算法的计算复杂度。实现后可以直接测量系统的实际时间性能和内存使用情况。
***
### 23.4 视觉编码原理
&nbsp;&nbsp;&nbsp;&nbsp;我们可以将视觉编码描述为图形元素，称为标记，通过视觉通道传递信息。零维标记是一个点，一维标记是一条线，二维标记是一个区域，三维标记是一个体积。许多视觉通道可以编码信息，包括空间位置、颜色、大小、形状、方向和运动方向。可以使用多个可视通道同时对不同的数据维度进行编码;例如，图23.4显示了使用水平和垂直空间位置、颜色和大小来显示四个数据维度。可以使用多个通道对同一维度进行冗余编码，这样设计可以显示更少的信息，但显示得更清楚。
#### 23.4.1 视觉通道特性
&nbsp;&nbsp;&nbsp;&nbsp;视觉通道的重要特征是可区分性、可分离性和弹出性。
&nbsp;&nbsp;&nbsp;&nbsp;并非所有的通道都是可以同等区分的。人们进行了许多心理物理学实验，以测量人们对不同视觉通道编码的信息进行精确区分的能力。我们的能力取决于数据类型是定量的、有序的还是分类的。
&nbsp;&nbsp;&nbsp;&nbsp;图23.5显示了这三种数据类型的可视通道的排名。图23.6显示了Tableau/Polaris系统中可视通道的一些默认映射，它们考虑到了数据类型。空间位置是所有三种类型数据中最精确的视觉通道，它主导着我们对视觉编码的感知。因此，两个最重要的数据维度通常被映射到水平和垂直的空间位置。
&nbsp;&nbsp;&nbsp;&nbsp;然而，其他渠道在不同类型之间有很大的差异。长度通道和角度通道对定量数据的鉴别能力较强，但对有序和类别数据的鉴别能力较差;色调通道对类别数据的鉴别能力较强，但对定量数据的鉴别能力一般。
&nbsp;&nbsp;&nbsp;&nbsp;我们必须始终考虑显示数据维度所需的动态范围与通道中可用的动态范围之间是否有很好的匹配。例如，线宽编码使用一维标记和大小通道。我们可以可靠地使用有限的宽度步骤对信息进行可视化编码:屏幕分辨率强制执行一个像素的最小厚度(忽略反锯齿以简化讨论)，还有一个最大厚度，超过这个厚度的对象将被视为一个多边形而不是一条线。线宽可以很好地显示数据维度中的三四个不同值，但对于几十个或数百个值来说，它是一个糟糕的选择。
&nbsp;&nbsp;&nbsp;&nbsp;有些视觉通道是完整的，在前意识层面融合在一起，所以它们不是视觉编码不同数据维度的好选择。其他的是可分离的，在视觉处理过程中它们之间没有相互作用，可以安全地用于编码多个维度。图23.7显示了两个通道对。颜色和位置是高度可分离的。我们可以看到水平大小和垂直大小不是那么容易区分的，因为我们的视觉系统会自动将它们整合在一起，形成一个统一的区域感知。大小与许多通道相互作用:当一个物体的大小变小时，区分它的形状或颜色就变得更加困难。
&nbsp;&nbsp;&nbsp;&nbsp;我们可以有选择地关注一个通道，以便特定类型的项目可视地“弹出”出来，如19.4.3节所述。视觉弹出的一个例子是，当我们立即在一大堆蓝色物品中发现红色物品，或从正方形中分辨出圆圈时。可视化弹出是强大的和可扩展的，因为它是并行发生的，不需要有意识地一个一个地处理项目。许多视觉通道都具有这种弹出属性，不仅包括上面的列表，还包括曲率、闪烁、立体深度，甚至是照明方向。但是，一般情况下，我们一次只能利用一个通道的弹出。例如，白色圆圈不会从一组白色或黑色的圆圈和正方形中弹出，如图19.46所示。当我们需要同时跨越多个通道进行搜索时，找到目标对象所需的时间长度与场景中对象的数量成线性关系。
#### 23.4.2颜色
&nbsp;&nbsp;&nbsp;&nbsp;颜色可以是一个非常强大的渠道，但许多人不了解它的性质，并使用不当。正如第19.2.2节所讨论的，我们可以根据三个独立的视觉通道来考虑颜色:色调、饱和度和亮度。区域大小强烈影响我们对颜色的感知能力。小区域的颜色相对难以感知，设计师应该使用明亮、高饱和度的颜色，以确保颜色编码的可辨性。相反的情况是，当彩色区域较大时，如背景，应该使用低饱和度的柔和颜色，以避免失明的观众。
&nbsp;&nbsp;&nbsp;&nbsp;色相是编码分类数据的一个很强的线索。然而，可用的动态范围是非常有限的。当彩色区域很小且分散在显示器周围时，人们只能可靠地分辨出大约12种颜色。颜色编码的一个很好的指导方针是将类别的数量保持在8个以下，记住背景和中性物体颜色也算在总数中。
&nbsp;&nbsp;&nbsp;&nbsp;对于有序数据，亮度和饱和度是有效的，因为它们具有隐式感知顺序。人们可以可靠地根据亮度进行排序，总是把灰色放在黑色和白色之间。在饱和度方面，人们可靠地将饱和度较低的粉色放在完全饱和的红色和零饱和的白色之间。然而，色调并不是一个很好的有序数据通道，因为它没有隐含的感知顺序。当被要求对红、蓝、绿、黄进行排序时，人们给出的答案不尽相同。人们可以也确实学习惯例，比如交通灯的绿黄红，或者彩虹的颜色顺序，但这些构造都是在一个比纯粹的感知更高的层次上。
&nbsp;&nbsp;&nbsp;&nbsp;有序数据通常显示为一组离散的颜色值。定量数据用颜色图显示，颜色值的范围可以是连续的或离散的。在许多软件包中，一个非常不幸的默认是彩虹色，如图23.8所示。标准彩虹刻度有三个问题。首先，色调是用来表示顺序的。一个更好的选择是使用亮度，因为它有一个隐含的感知顺序。更重要的是，人眼对亮度的反应最为强烈。第二，这个尺度在感知上不是线性的:连续范围内的等量步数并不会被我们的眼睛感知为等量步数。图23.8显示了一个示例，其中彩虹色度图模糊了数据。虽然从-2000到-1000的范围有三种不同的颜色(青色、绿色和黄色)，但是从-1000到0的相同大小的范围看起来完全是黄色的。右边的图表显示，感知值与亮度紧密相关，在这个尺度下，亮度甚至不是单调增加的。
&nbsp;&nbsp;&nbsp;&nbsp;相比之下，图23.9显示了相同的数据，使用了更合适的色彩图，其中亮度单调增加。色调用于创建语义上有意义的分类:观看者可以讨论数据集中的结构，如深蓝色的大海、青色的大陆架、绿色的低地和白色的山脉。
&nbsp;&nbsp;&nbsp;&nbsp;在离散和连续的情况下，色彩图应该考虑到数据是连续的还是发散的。ColorBrewer应用程序(www.colorbrewer.org)是构建色彩图的极好资源(Brewer, 1999)。
&nbsp;&nbsp;&nbsp;&nbsp;用颜色进行编码的另一个重要问题是，相当一部分人口(约10%的男性)缺乏红绿颜色。如果由于目标域中的约定而选择了使用红色和绿色的编码，则选择re除了色相，多余地编码亮度或饱和度是明智的。应该使用网站http://www.vischeck.com等工具来检查一个配色方案是否能被色觉缺陷的人识别出来。
#### 23.4.3 2D vs. 3D空间布局
使用两个通道还是三个通道进行空间定位的问题已经得到了广泛的研究。当基于计算机的可视化在20世纪80年代末开始时，交互式3D图形是一种新功能，人们对3D表示非常热情。随着该领域的成熟，研究人员开始了解3D方法在用于抽象数据集时的成本(Ware, 2001)。
&nbsp;&nbsp;&nbsp;&nbsp;遮挡，即数据集的某些部分隐藏在其他部分后面，是3D的一个主要问题。尽管隐藏表面去除算法，如zbuffers和BSP树，允许快速计算正确的2D图像，但人们仍然必须将许多这些图像合成到一个内在的心理地图中。当人们看到由熟悉的物体构成的现实场景时，通常能很快理解所看到的是什么。然而，当他们看到一个不熟悉的数据集，其中选择的视觉编码将抽象的维度映射到空间位置，理解其3D结构的细节可能是一个挑战，即使他们可以使用交互式导航控件来改变他们的3D视点。原因再次是人类工作记忆的有限容量(Plumlee & Ware, 2006)。
&nbsp;&nbsp;&nbsp;&nbsp;3D的另一个问题是透视失真。虽然现实世界的物体在离我们的眼睛更远的时候确实会显得更小，但是透视使直接比较物体高度变得困难(Tory, Kirkpatrick, Atkins， & Möller, 2006)。再次强调，尽管我们经常可以根据过去的经验判断现实世界中熟悉物体的高度，但我们不一定能通过具有视觉编码的完全抽象的数据来做到这一点。例如，在3D柱状图中判断柱状高度比在多个水平对齐的2D柱状图中更难。
&nbsp;&nbsp;&nbsp;&nbsp;无约束3D表示的另一个问题是，在3D空间中任意方向的文本比在2D图像平面中对齐的文本更难阅读(Grossman, Wigdor， & Balakrishnan, 2007)。
&nbsp;&nbsp;&nbsp;&nbsp;图23.10说明了如何仔细选择抽象数据集的2D视图，以避免3D视图固有的遮挡和透视失真问题。顶视图显示了直接由原始时间序列数据创建的3D表示，其中缓存截面是显示一天功耗的2D时间序列曲线，沿挤出的第三轴为一年中的每一天绘制一条曲线。虽然这种表示很容易创建，但我们只能看到大规模的模式，如工作时间的较高消费和冬夏季节之间的变化。为了创建底部的2D链接视图，曲线被分层聚类，只有代表顶部聚类的聚合曲线被绘制在相同的2D帧中。因为没有透视扭曲或遮挡，所以在一天中所有时间的曲线高度之间的直接比较很容易。在日历视图中使用了相同的颜色编码，这对于理解时间模式非常有效。
&nbsp;&nbsp;&nbsp;&nbsp;相反，如果数据集由固有的3D空间数据组成，例如显示飞机机翼上方的流体流动或来自MRI扫描的医疗成像数据集，那么3D视图在帮助用户构建数据集结构的有用心理模型方面的好处就超过了其成本。
#### 23.4.4文本标签
&nbsp;&nbsp;&nbsp;&nbsp;标签和图例形式的文本是创建有用而不仅仅是美观的可视化的一个非常重要的因素。坐标轴和刻度应加以标记。图例应该表明颜色的含义，无论是用于离散的补丁还是用于连续的颜色渐变。数据集中的单个项通常具有与之关联的有意义的文本标签。在许多情况下，在所有时间显示所有标签将导致过多的视觉混乱，所以标签可以使用标签定位算法显示一个项目的子集降低密度，同时避免重叠(Luboschik, Schumann， & wires, 2008)。选择最好的标签来表示一组项目的直接方法是使用一个基于标签重要性度量的贪心算法，但基于组的特征合成一个新标签仍然是一个困难的问题。一种更以交互为中心的方法是，仅根据用户的交互指示显示单个项目的标签。
***
### 23.5交互原理
&nbsp;&nbsp;&nbsp;&nbsp;在设计可视化时，有几个交互原则很重要。低延迟的视觉反馈允许用户更流畅地探索，例如，当光标停留在一个对象上时，显示更多的细节，而不需要用户显式地单击。在与大型数据集交互时，选择项是一项基本操作，用高亮显示显示所选集合也是如此。颜色编码是高亮显示的常见形式，但也可以使用其他通道。
&nbsp;&nbsp;&nbsp;&nbsp;许多交互形式都可以根据它们改变的显示内容来考虑。导航可以被认为是视图的改变。排序是对空间排序的改变;也就是说，改变数据映射到空间位置可视通道的方式。整个视觉编码也可以更改。
#### 23.5.1概述首先，缩放和过滤，详情按需
&nbsp;&nbsp;&nbsp;&nbsp;有影响力的咒语“概述优先，缩放和过滤，细节按需”(Shnciderman, 1996)阐明了交互和导航在可视化设计中的作用。概述帮助用户注意到进一步调查可能有成效的区域，无论是通过空间导航还是通过过滤。正如我们下面所讨论的，可以通过多种方式显示细节:通过单击或光标悬停弹出窗口，在一个单独的窗口中，以及通过动态更改布局来为显示额外的信息腾出空间。
#### 23.5.2交互性成本
&nbsp;&nbsp;&nbsp;&nbsp;交互性既有力量也有成本。交互的好处是，人们可以探索比单一静态图像更大的信息空间。然而，交互的成本是它需要人类的时间和注意力。如果用户必须彻底检查每一种可能性，则使用可视化系统可能会退化为人力搜索。自动检测感兴趣的特征，并通过可视化编码明确地引起用户的注意，是可视化设计人员的一个有用的目标。然而，如果手头的任务可以完全通过自动方法解决，那么首先就不需要可视化了。因此，在寻找可自动化的方面和依赖循环中的人来检测模式之间总是有一个权衡。
#### 23.5.3动画
&nbsp;&nbsp;&nbsp;&nbsp;动画显示了变化随时间的变化。我们将动画(连续帧只能播放、暂停或停止)与真正的交互控制区分开来。有相当多的证据表明，通过帮助人们跟踪物体位置或摄像机视点的变化，动画过渡比跳跃剪切更有效(Heer & Robertson, 2007)。尽管动画在叙事和讲故事方面非常有效，但它在可视化环境中经常被无效地使用(Tversky, Morrison， & Betrancourt, 2002)。使用动画(一种随时间变化的视觉形式)来显示随时间变化的数据似乎是显而易见的。然而，当人们看到由许多帧组成的动画时，他们很难在不连续的单个帧之间进行具体的比较。人类视觉记忆的能力非常有限，这意味着我们在比较过去所见事物的记忆时，比比较当前视野内事物的能力要差得多。对于需要比较多达几十帧的任务，并排比较通常比动画更有效。此外，如果在帧之间变化的对象数量很大，人们将很难跟踪所有发生的事情(Robertson et al.， 2008)。叙事动画被精心设计以避免过多动作同时发生，而可视化数据集则没有这样的限制。对于只有两帧且变化量有限的特殊情况，在这两帧之间来回翻转的非常简单的动画可以是识别它们之间差异的有用方法。
***
### 23.6复合视图和相邻视图
&nbsp;&nbsp;&nbsp;&nbsp;一个非常基本的视觉编码选择是让一个复合视图显示同一帧或窗口中的所有内容，还是让多个视图彼此相邻。
#### 23.6.1单次绘图
&nbsp;&nbsp;&nbsp;&nbsp;当只有一个或两个数据维度需要编码时，水平和垂直空间位置显然是可以使用的视觉通道，因为我们对它们的感知最为准确，位置对数据集的内部心理模型影响最大。传统的统计图形显示，如折线图、柱状图和散点图，都使用标记的空间排序来编码信息。这些显示可以通过额外的视觉通道进行增强，例如颜色、大小和形状，如图23.4所示的散点图所示。
&nbsp;&nbsp;&nbsp;&nbsp;最简单的标记是一个像素。在面向像素的显示中，目标是提供尽可能多的项目的概述。这些方法在较高的信息密度下使用空间位置和颜色通道，但排除了使用尺寸和形状通道。图23.11显示了Tarantula软件可视化工具(Jones et al.， 2002)，其中屏幕的大部分用于使用一个像素高的行(Eick, Steffen， & Sumner，1992)。缓存行的颜色和亮度显示了在执行一组测试用例时它是通过、失败还是有混合结果。
#### 23.6.2叠加与分层
&nbsp;&nbsp;&nbsp;&nbsp;当多个项目的空间位置兼容时，可以在同一帧中叠加。当坐标轴跨所有项目共享时，可以在同一折线图中显示多条线，在同一散点图中显示许多点。单一共享视图的一个好处是比较不同项的位置非常容易。如果数据集中的项目数量有限，那么单个视图通常就足够了。当有足够多的项目时，视觉分层可以扩展单个视图的有用性，使视觉混乱成为一个问题。图23.12显示了当用户将光标移动到一个单词块上时，大小、饱和度和亮度通道的冗余组合如何用于区分前景层和背景层。
### 23.6.3 符号
&nbsp;&nbsp;&nbsp;&nbsp;我们已经讨论了使用简单标记进行视觉编码的想法，其中单个标记对于所使用的每个视觉通道只能有一个值。对于更复杂的标记(我们称之为符号)，有内部结构，其中子区域具有不同的可视通道编码。
&nbsp;&nbsp;&nbsp;&nbsp;设计适当的字形与设计可视编码具有相同的挑战。图23.13显示了各种字形，包括Chernoff最初提出的臭名昭著的面孔。使用面部来显示抽象数据维度的危险在于，我们对不同面部特征的知觉和情感反应是高度非线性的，这在某种程度上还没有被完全理解，但这种变异性比我们迄今为止讨论过的视觉通道之间的变异性更大。我们可能更容易感知那些能显示情绪状态的特征，比如眉毛的方向，而不是其他特征，比如鼻子的大小或脸型。
&nbsp;&nbsp;&nbsp;&nbsp;复杂的字形需要每个字形的显著显示区域，如图23.14所示，其中微型柱状图显示沿螺旋路径的许多点的四个不同维度的值。更简单的字形可以用来创建全局视觉纹理，字形大小非常小，不缩放就无法读取单个值，但是可以从概览级别排除区域边界。图23.15显示了使用图23.13中右上角那种简笔画的例子。字形可以按一定的间隔放置，也可以使用原始或派生的数据维度放置在数据驱动的空间位置。
#### 23.6.4多视图
&nbsp;&nbsp;&nbsp;&nbsp;现在我们从只有一个框架的方法转向那些使用多个视图链接在一起的方法。最常见的链接形式是链接突出显示，在一个视图中选择的项目在所有其他视图中突出显示。在链接导航中，一个视图中的移动会触发其他视图中的移动。
&nbsp;&nbsp;&nbsp;&nbsp;多视图方法有很多种。在通常被简单地称为多视图的方法中，相同的数据显示在几个视图中，每个视图都有不同的视觉编码，以最清楚地显示数据集的某些方面。跨多个可视编码的链接高亮显示的强大之处在于，位于一个视图中相邻区域的项目在其他视图中的分布通常非常不同。在小倍数方法中，每个视图对不同的数据集具有相同的视觉编码，通常在帧之间具有共享的轴，因此它们之间的空间位置比较是有意义的。小倍数的侧边比较可以替代在同一视图中叠加所有数据的视觉混乱，也可以解决人类记忆动画中以前看过的帧的限制，因为动画会随着时间的推移而变化。
&nbsp;&nbsp;&nbsp;&nbsp;概述-细节方法是在两个视图中拥有相同的数据和相同的视觉编码，其中它们之间的唯一区别是缩放级别。在大多数情况下，概览视图使用的显示空间比详细视图少得多。概述视图和细节视图的组合在许多工具(从地图软件到照片编辑)的可视化之外很常见。
&nbsp;&nbsp;&nbsp;&nbsp;使用细节按需方式，另一个视图可以显示关于某个选定项目的更多信息，可以是光标附近的弹出窗口，也可以是显示的另一部分的永久窗口。
确定视图本身相对于其他视图的最合适的空间位置可能与确定单个视图内标记的空间位置一样重要。在某些系统中，视图的位置是任意的，由窗口系统或用户决定。对齐视图允许在它们之间进行精确的比较，无论是垂直的、水平的，还是使用两个方向的数组。正如项可以在视图中排序一样，视图也可以在显示中排序，通常是针对度量整个视图的某个方面的派生变量，而不是视图中的单个项。
&nbsp;&nbsp;&nbsp;&nbsp;图23.16显示了使用许多视图的人口普查数据的可视化。除了地理信息，每个县的人口信息还包括人口、密度、性别、中位数年龄、1990年以来的变化百分比和主要民族的比例。所使用的视觉编码包括地理视图、散点图、平行坐标、表格视图和矩阵视图。所有视图都使用相同的颜色编码，底部中间有一个图例。
散点图矩阵显示了所有视图的链接高亮显示，其中蓝色项在一些视图中紧密相连，而在另一些视图中分散。左上角的地图是中央大细节地图的概览。表格视图允许对感兴趣的维度进行直接排序和选择。
***
### 23.7数据缩减
&nbsp;&nbsp;&nbsp;&nbsp;到目前为止，我们所讨论的可视化编码技术显示了数据集中的所有项。然而，许多数据集是如此之大，以至于同时显示所有内容将导致如此多的视觉混乱，视觉表示将很难或不可能让观看者理解。减少显示数据量的主要策略是概述和聚合、过滤和导航、焦点+上下文技术和降维。
#### 23.7.1概述和聚合
&nbsp;&nbsp;&nbsp;&nbsp;对于微小的数据集，可视化编码可以很容易地显示所有项目的所有数据维度。对于中等大小的数据集，可以通过显示缓存项较少的细节来构造显示所有项信息的概览。许多数据集在多个尺度上具有内部或派生结构。在这些情况下，多尺度的可视化表示可以提供多个层次的概述，而不仅仅是一个层次的水平。概述通常用作起点，为用户提供线索，告诉他们从哪里深入查看更详细的信息。
&nbsp;&nbsp;&nbsp;&nbsp;对于较大的数据集，创建概述需要某种形式的可视化摘要。数据缩减的一种方法是使用聚合表示，其中概览中的单个可视标记显式地表示许多项。
&nbsp;&nbsp;&nbsp;&nbsp;聚合的挑战是避免在总结过程中消除数据集中有趣的信号。在地图学文献中，在保留重要区别特征的情况下，以制图综合的名义创建不同比例尺度的地图的问题被广泛研究(Slocum, McMaster, Kessler， & Howard, 2008)。
#### 23.7.2过滤与导航
&nbsp;&nbsp;&nbsp;&nbsp;数据缩减的另一种方法是筛选数据，只显示项目的子集。过滤通常是通过在一个或多个数据维度中直接选择感兴趣的范围来进行的。
&nbsp;&nbsp;&nbsp;&nbsp;导航是一种基于空间位置的特定过滤，改变视点会改变可见的项目集。几何缩放和非几何缩放都用于可视化。通过几何缩放，相机在2D或3D空间中的位置可以通过标准的计算机图形控制来改变。在现实场景中，项目的大小应该取决于它们与相机的距离，只有它们的表观尺寸会根据距离发生变化。然而，在抽象空间的视觉编码中，非几何缩放可能是有用的。在语义缩放中，对象的视觉外观会根据可绘制的像素数量发生显著变化。例如，文本文件的抽象可视化表示可以从一个没有标签的彩色编码小框到一个只包含文件名作为文本标签的中型框，再到一个包含文件内容的多行摘要的大矩形。在现实场景中，距离相机足够远的物体在图像中是不可见的，例如，当它们在屏幕面积中占不到一个像素时。在保证可见性的情况下，原始或派生的数据维度之一被用作重要性的度量，足够重要的对象必须具有某种在图像平面上始终可见的表示形式。
#### 23.7.3焦点+上下文
&nbsp;&nbsp;&nbsp;&nbsp;焦点+上下文技术是数据缩减的另一种方法。用户以交互方式选择数据集项的子集作为焦点并绘制在细节。视觉编码还包括关于用于上下文的数据集的其他部分或全部的信息，集成到显示焦点项的同一视图中。许多这些技术使用精心选择的失真来将放大的焦点区域和缩小的上下文区域组合成统一的视图。
&nbsp;&nbsp;&nbsp;&nbsp;一个常见的交互隐喻是一个可移动的鱼眼镜头。双曲几何为单个径向透镜提供了一个优雅的数学框架，它可以影响视图中的所有物体。另一个交互隐喻是使用多个不同形状和放大级别的透镜，只影响局部区域。拉伸和挤压导航使用橡胶片的交互隐喻，拉伸一个区域挤压其余区域，如图23.17所示。
&nbsp;&nbsp;&nbsp;&nbsp;工作表的边界保持固定，以便所有项目都在视口内，尽管许多项目可能被压缩到亚像素大小。鱼眼隐喻并不局限于空间布局后使用的几何透镜;它可以直接用于结构化数据，例如分层文档，其中一些部分被折叠，而另一些部分则保持展开。
&nbsp;&nbsp;&nbsp;&nbsp;这些基于扭曲的方法是非文字导航的另一个例子，与非几何缩放具有相同的精神。当在一个大的和不熟悉的数据集中使用真实的相机运动时，用户可能会变得混乱当他们只能看到一个小的局部区域时，在高变焦水平上被使用。这些方法的目的是提供更多的上下文信息，而不是单一的未扭曲的视图，希望人们可以保持方向，如果地标仍然可识别。然而，这些类型的失真仍然会让用户感到困惑或难以理解。与多种观点或单一的现实观点相反，歪曲的代价和好处尚未得到充分理解。标准3D透视是一种特别熟悉的扭曲形式，在carly可视化工作中被明确地用作焦点+上下文的形式。然而，随着第23.4节中讨论的3D空间布局的成本越来越被理解，这种方法变得不那么流行了。
&nbsp;&nbsp;&nbsp;&nbsp;提供围绕焦点项目的上下文的其他方法不需要扭曲。例如，图23.18所示的SpaceTree系统省略了树中的大多数节点，显示了交互选择的焦点节点和树的根之间的路径。
#### 23.7.4降维
&nbsp;&nbsp;&nbsp;&nbsp;到目前为止所涉及的数据减少方法减少了要绘制的项目的数量。当数据维度较多时，降维也可以很有效。
&nbsp;&nbsp;&nbsp;&nbsp;使用切片，从要消除的维度中选择一个值，只提取与该维度值匹配的项，并将其包含在较低维度的切片中。切片对三维空间数据尤其有用，例如，通过CT扫描在不同高度沿颅骨检查人类头部切片。切片可以用来消除多个维度一次。
&nbsp;&nbsp;&nbsp;&nbsp;通过投影，没有关于被消除维度的信息被保留;这些维度的值被直接删除，所有项目仍然显示出来。一种常见的投影形式是标准的图形透视转换，它从3D投影到2D，在这个过程中丢失了深度信息。在数学可视化中，高维几何对象的结构可以通过在标准投影到像平面之前从4D投影到3D，并使用颜色对投影外维度的信息进行编码来显示。当这种技术用于非空间数据时，有时称为维度过滤。
&nbsp;&nbsp;&nbsp;&nbsp;在一些数据集中，在比原始数据维数低得多的维数空间中可能存在有趣的隐藏结构。例如，有时直接测量感兴趣的自变量是困难的或不可能的，但是可以获得大量的因变量或间接变量。目标是找到忠实地代表数据集中大部分结构或方差的一小组维度。这些维度可以是原始维度，也可以是原始维度的线性或非线性组合合成的新维度。主成分分析是一种快速、应用广泛的线性分析方法。许多非线性方法已经被提出，包括多维尺度(MDS)。这些方法通常用于确定数据集中是否存在大规模的集群;低维图中的细粒度结构通常是不可靠的，因为信息在约简过程中丢失了。图23.19显示了单个散点图中的文档收集。当数据集的真实维度远远高于2时，可能需要一个散点矩阵来显示合成维度对。
***
### 23.8 例子
&nbsp;&nbsp;&nbsp;&nbsp;我们用几个使用上面讨论的技术可视化特定类型数据的例子来结束本章。
#### 23.8.1表
&nbsp;&nbsp;&nbsp;&nbsp;表格数据非常常见，所有电子表格用户都知道。可视化的目标是将这些信息通过可感知的视觉通道编码，而不是强迫人们将其作为数字和文本来阅读。图23.20显示了Table Lens，这是一种焦点+上下文的方法，其中定量值被编码为上下文区域中一个像素高的线的长度，并在焦点区域中显示为数字。数据集的每个维度都显示为一个列，可以根据该列中的值调用项目行，只需在其标题中单击一次。
&nbsp;&nbsp;&nbsp;&nbsp;传统的笛卡尔散点图方法只适用于二维和三维数据，其中项目被绘制成相对于垂直轴的点。许多表包含远不止三个维度的数据，而且可以使用其他可视通道编码的额外维度的数量是有限的。平行坐标是一种利用空间位置同时可视化多个维度的方法，其中坐标轴是平行的而不是垂直的，一个n维的项目被显示为一次穿过n个轴的折线(Inselberg & Dimsdale, 1990;维根曼,1990)。图23.21显示了一个包含23万个项目的8维数据集，包含多个细节级别(Fua, Ward， & Rundensteiner, 1999)，从顶部的高级视图到更精细的细节在最下面。使用分层并行坐标，项目被聚在一起，整个项目集群由宽度和不透明度变化的频带表示，其中平均值位于中间，每个轴的宽度取决于该维度集群中项目的值。每个波段的颜色是基于簇之间的邻近性根据相似性度量。
#### 23.8.2图
&nbsp;&nbsp;&nbsp;&nbsp;图绘制领域涉及在2D或3D空间中为图中的节点找到空间位置，并在这些节点之间安排边缘(Di Battista, Eades, Tamassia， & Tollis, 1999)。在许多情况下，通过仅使用直边或仅允许直角弯曲的正交布局类来简化边缘路由问题，但有些方法处理真实的曲线。如果图中有向边，可以使用分层方法通过节点的水平或垂直空间排序来显示层次结构，如图23.2所示。
&nbsp;&nbsp;&nbsp;&nbsp;一套美学标准将人类对可读图形的判断操作为可以在提议的布局上计算的指标(Ware, Purehase, Colpys， & McGill, 2002)。图23.22显示了一些例子。有些指标应该最小化，例如边缘交叉的数量，布局的总面积，以及直角拐弯或曲线的数量。其他的应该最大化，比如角度分辨率或对称性。问题是困难的，因为这些标准中的大多数都是单独的NP-hard，而且它们是相互不兼容的(Brandenburg, 1988)。
&nbsp;&nbsp;&nbsp;&nbsp;许多节点-链接图绘制的方法使用力导向的放置，由边缘的弹簧力将节点上的粒子拉在一起的直观物理隐喻所驱动。尽管朴素的方法具有很高的时间复杂度，并且容易陷入局部极小值，但许多工作都用于开发更复杂的算法，如GEM (Frick, Ludwig， & Mehldau, 1994)或IPSep-CoLa (Dwyer, Koren， & \Marriott, 2006)。图23.23显示了一个使用r-PolyLog能量模型的交互系统用几何和。创建聚类图的焦点上下文视图语义鱼眼(van Ham & van Wijk, 2004)。
&nbsp;&nbsp;&nbsp;&nbsp;图还可以通过显示邻接矩阵进行可视化编码，其中所有顶点都沿着每个轴放置，如果两个顶点之间有边，则对两个顶点之间的单元格进行着色。MatrixExplorer系统使用链接的多个视图来帮助社会科学研究人员用矩阵和节点链接表示直观地分析社会网络(Henry & Fekete, 2006)。图23.24显示了在这两个视图中由相同的图结构创建的不同视觉模式:A表示连接多个社区的参与者;B是一个社区;C是一个团，或一个完整子图。矩阵视图不会受到混乱的边界交叉的影响，但使用这种方法，许多任务(包括路径跟踪)会更加困难。
#### 23.8.3树
&nbsp;&nbsp;&nbsp;&nbsp;树是一种非常常见的特殊图形，大量的可视化研究都致力于此。在二维平面上布局树木的简单算法对小树效果很好(Reingold & Tilford, 1981)，而更复杂但可扩展的方法在线性时间内运行(Buchheim, Jünger， & Leipert, 2002)。图23.17和23.18还展示了不同空间布局方法的树，但这四种方法都通过绘制连接父子节点的链接，可视化地编码了父子节点之间的关系。
&nbsp;&nbsp;&nbsp;&nbsp;树映射使用包含而不是连接来显示树中父节点和子节点之间的层次关系(B. Johnson & Shnciderman, 1991)。也就是说，树映射显示嵌套在父节点轮廓中的子节点。图23.25显示了一个包含近100万个文件的分级文件系统，其中文件大小由矩形大小编码，文件类型由颜色编码(Fekete & Plaisant, 2002)。树的叶子节点的大小可以编码一个额外的数据维度，但内部节点的大小不显示该维度的值;这取决于它们后代的累积体型。尽管使用树映射比使用节点链接方法更难完成诸如理解树的拓扑结构或通过树跟踪路径等任务，但是可以很好地支持理解绑定到叶节点的属性的任务。树映射是空间填充表示，通常比节点链接方法更紧凑。
#### 23.8.4 地理
&nbsp;&nbsp;&nbsp;&nbsp;许多类型的分析，如流行病学，需要理解地理和非空间数据。图23.26显示了一种用于癌症人口统计数据集可视化分析的工具，该工具结合了本章描述的许多思想(MacEachren, Dai, Hardisty, Guo， & Lengerich, 2003)。顶部的链接视图矩阵具有三种类型的视觉编码的小倍数:左下方显示阿巴拉契亚县的地理地图，横贯矩阵对角线的直方图，以及右上方的散点图。下面的2 × 2矩阵，连接散点图与地图，包括颜色图例。离散二元序列色系图对两种互补色系的亮度依次增加，对色差患者有效。
#### 23.8.5 空间场
&nbsp;&nbsp;&nbsp;&nbsp;大多数非地理空间数据都被建模为一个字段，其中有一个或多个与2D或3D空间中的每个点相关的值。标量场，例如CT或MRI医学成像扫描，通常通过寻找等值面或使用直接体绘制可视化。向量场，例如水或空气中的流动，通常使用箭头、流线(McLouglin, Laramee, Peikert, Post， & Chen, 2009)和线积分卷积(LIC) (Laramee et al.， 2004)来可视化。张量场，例如那些描述分子在人脑中的各向异性扩散的张量场，是特别具有挑战性的显示(Kindlmann, Weinstein，&哈特，2000 年）。
***'
### 常见问题
+ 哪些会议和期刊是寻找关于可视化的进一步信息的好地方?
IEEE VisWeek会议包括三个子会议:InfoVis(信息可视化)、Vis(可视化)和VAST(可视化分析科学与技术)。此外，还有一个欧洲EuroVis会议和一个亚太vis会议会场。相关期刊包括IEEE TVCG(可视化与计算机图形学交易)和Palgrave信息可视化。
+ 有哪些软件和工具包可用于可视化?
最流行的空间数据工具包是vtk，这是一个C/C1+代码库，可在www.vtk.org获得。对于抽象数据，基于java的prefuse (http://www prefuse.org)和Processing (processing.org)工具包正在被广泛使用。IBM Research的ManyEyes站点(www.many-eyes.com)允许人们上传自己的数据，以各种格式创建交互式可视化，并进行关于可视化数据分析的对话。


